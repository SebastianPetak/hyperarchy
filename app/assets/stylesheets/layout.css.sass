$darkened-background-z-index: 100
$padding-x: $line-height
$header-height: 2 * $line-height
$min-width: 1200px
$max-width: 1443px

#layout
  #header-wrapper
    height: $header-height
    background-color: #444
    @include background-image(linear-gradient(top, #555, #363636))
    color: transparentize(white, .15)

    > #header
      margin: 0 auto
      @include box-sizing('border-box')
      min-width: $min-width
      max-width: $max-width
      padding: 0 $padding-x
      height: 100%

      > h1
        font-weight: $regular
        float: left
        letter-spacing: $s-9
        padding: ($line-height/2) 0

      > #menu-items
        float: right
        height: $header-height
        font-weight: $light

        > div
          display: inline-block
          margin-left: 0

        .dropdown-menu
          padding: $line-height/2
          @include unselectable
          position: relative
          &.active
            background: transparentize(white, 0.9)
          ul
            //font-weight: $regular
            font-size: $s-1
            display: none
            position: absolute
            top: 2 * $line-height
            z-index: 2
            left: 0
            right: 0
            background: white
            padding: $line-height / 2
            color: black
            @include box-shadow(#aaa 0 0 3px)

        #organizations-menu
          .dropdown-menu
            padding-left: $s3
            padding-right: $s3

        #account-menu
          .avatar
            background-image: url(/images/mystery_man_27.jpeg)
            position: absolute
            top: (27 - $line-height)/2 + 1
          #name
            margin-left: 27 + $line-height/2


  #body-wrapper
    position: absolute
    width: 100%
    top: $header-height + 3/2 * $line-height
    bottom: 3/2 * $line-height
    > #body
      @include box-sizing('border-box')
      height: 100%
      min-width: $min-width
      max-width: $max-width
      margin: 0 auto

#darkened-background
  visibility: hidden
  position: fixed
  width: 100%
  height: 100%
  top: 0
  opacity: 0
  background: black
  z-index: $darkened-background-z-index
  @include transition('opacity', 150ms, 'ease-in')
  &.visible
    visibility: visible
    opacity: 0.3

.lightbox
  display: none
  position: relative
  margin: auto
  background: white
  width: 300
  height: 400
  z-index: $darkened-background-z-index + 1

@media all and (min-width: 1220px)
  #layout #header
    padding-right: 29 !important
    padding-left: 29 !important
  #layout #body
    padding-right: 10 !important
    padding-left: 10 !important
