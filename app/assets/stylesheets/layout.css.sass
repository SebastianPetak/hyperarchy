$darkened-background-z-index: 100
$padding-x: $line-height
$header-height: 2 * $line-height
$subheader-height: $line-height * 1.5
$min-width: 1200px
$max-width: 1443px

body
  @include background-image(linear-gradient(top, #aaa, #999))

#header
  height: $header-height
  @include background-image(linear-gradient(top, #4f4f4f, #363636))
  margin: 0 auto
  @include box-sizing('border-box')
  min-width: $min-width
  max-width: $max-width
  padding: 0 (2 * $padding-x)
  color: transparentize(white, 0.15)

  > h1
    font-weight: $regular
    float: left
    letter-spacing: $s-9
    padding: ($line-height/2) 0

  > #menu-items
    float: right
    margin-right: -$line-height
    height: $header-height
    position: relative

    #organizations-menu
      display: inline-block
      #add-organization-link
        display: inline-block
        padding: ceil($line-height/2) $line-height ($line-height/2) $line-height
      .dropdown-menu ul
        left: 0
        right: 0

    #account-menu
      display: inline-block
      #login-link
        padding: ceil($line-height/2) $line-height ($line-height/2) $line-height
      .avatar
        background-image: url(/images/mystery_man_27.jpeg)
        position: absolute
        top: (27 - $line-height)/2 + 1
      #name
        margin-left: 27 + $line-height/2
      .dropdown-menu ul
        text-align: right
        right: 0

.dropdown-menu
  padding: $line-height/2 $line-height
  @include unselectable
  &.active
    background: transparentize(white, 0.9)
  ul
    display: none
    position: absolute
    top: $header-height
    z-index: 2
    right: 0
    background: white
    color: black
    @include box-shadow(transparentize(black, 0.5) 0 0 3px)
    li, #add-organization-menu-item
      display: block
      padding: $line-height/2 $line-height
      &:hover
        background: $highlight-yellow
    #add-organization-menu-item
      border-top: 1px solid #eee
      background: #f8f8f8


#body-wrapper
  margin: 0 auto
  min-height: 100%
  background: white
  position: relative
  min-width: $min-width
  max-width: $max-width
  @include box-shadow(#666 0 0 5px)
  > #body
    @include box-sizing('border-box')

#layout.fixed-height > #body-wrapper > #body
  top: $header-height
  bottom: 0
  width: 100%
  position: absolute

#darkened-background
  visibility: hidden
  position: fixed
  width: 100%
  height: 100%
  top: 0
  opacity: 0
  background: black
  z-index: $darkened-background-z-index
  @include transition('opacity', 150ms, 'ease-in')
  &.visible
    visibility: visible
    opacity: 0.3
